<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø§Ù„Ùˆ Ø°ØºØ§Ù„</title>
    <style>
        @import url('https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css');
        body { font-family: 'Vazirmatn', sans-serif; background: #121212; color: white; padding: 20px; line-height: 1.6; }
        .container { max-width: 600px; margin: 0 auto; background: #1e1e1e; padding: 25px; border-radius: 20px; border: 1px solid #e2b04a; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        h2 { color: #e2b04a; text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 10px; }
        .section { background: #252525; padding: 15px; border-radius: 12px; margin-bottom: 20px; border: 1px solid #333; }
        h3 { font-size: 16px; color: #ffd700; margin-top: 0; }
        .input-group { margin-bottom: 15px; }
        label { display: block; font-size: 12px; color: #aaa; margin-bottom: 5px; }
        input, textarea { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #444; background: #111; color: white; outline: none; }
        input:focus { border-color: #e2b04a; }
        
        /* Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø®Ø´ Ø¢Ù¾Ù„ÙˆØ¯ */
        .upload-area { display: flex; gap: 10px; align-items: center; margin-top: 5px; }
        .file-label { background: #444; color: white; padding: 8px 12px; border-radius: 8px; cursor: pointer; font-size: 12px; transition: 0.3s; }
        .file-label:hover { background: #555; }
        .status-msg { font-size: 11px; color: #25D366; display: none; }

        button { cursor: pointer; border: none; border-radius: 8px; font-weight: bold; transition: 0.3s; }
        .btn-add { background: #e2b04a; color: #000; width: 100%; padding: 12px; margin-top: 10px; }
        .btn-add:active { transform: scale(0.98); }
        .btn-generate { background: #25D366; color: white; width: 100%; font-size: 18px; padding: 15px; margin-top: 20px; box-shadow: 0 5px 15px rgba(37, 211, 102, 0.3); }
        
        .item-card { background: #333; padding: 10px; border-radius: 8px; margin-top: 10px; display: flex; justify-content: space-between; align-items: center; font-size: 13px; }
        .btn-del { background: #ff4d00; color: white; padding: 5px 10px; font-size: 11px; }
        
        #json-output { width: 100%; height: 150px; background: #000; color: #0f0; font-family: monospace; margin-top: 20px; display: none; padding: 10px; border-radius: 10px; font-size: 12px; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ›  Ù…Ø¯ÛŒØ±ÛŒØª Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø§Ù„Ùˆ Ø°ØºØ§Ù„</h2>

    <div class="section">
        <h3>ğŸ“± Ø«Ø¨Øª Ø§Ø³ØªÙˆØ±ÛŒ Ø¬Ø¯ÛŒØ¯</h3>
        <div class="input-group">
            <label>Ù†Ø§Ù… Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±:</label>
            <input type="text" id="s-name" placeholder="Ù…Ø«Ù„Ø§Ù‹: Ø±Ø³ØªÙˆØ±Ø§Ù† Ù„Ø§Ù„Ù‡">
        </div>
        <div class="input-group">
            <label>Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³ Ø§Ø³ØªÙˆØ±ÛŒ:</label>
            <div class="upload-area">
                <input type="file" id="s-file" accept="image/*" hidden onchange="uploadToFreeHost(this, 's-img')">
                <label for="s-file" class="file-label">ğŸ“¸ Ø§Ù†ØªØ®Ø§Ø¨ Ø¹Ú©Ø³ Ø§Ø² Ú¯Ø§Ù„Ø±ÛŒ</label>
                <span id="s-img-status" class="status-msg">Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯! âœ…</span>
            </div>
            <input type="hidden" id="s-img"> </div>
        <div class="input-group">
            <label>Ù„ÛŒÙ†Ú© ØªÙ…Ø§Ø³/ÙˆØ§ØªØ³â€ŒØ§Ù¾:</label>
            <input type="text" id="s-link" value="https://wa.me/98">
        </div>
        <button class="btn-add" onclick="addItem('story')">Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø³ØªÙˆØ±ÛŒ Ø¨Ù‡ Ù„ÛŒØ³Øª</button>
        <div id="story-list"></div>
    </div>

    <div class="section">
        <h3>ğŸ’³ Ø«Ø¨Øª ØªØ¨Ù„ÛŒØº Ú©Ø§Ø¯Ø±ÛŒ (Ø§Ø³Ù„Ø§ÛŒØ¯Ø±)</h3>
        <div class="input-group">
            <label>Ø¹Ù†ÙˆØ§Ù† ØªØ¨Ù„ÛŒØº:</label>
            <input type="text" id="a-title" placeholder="Ù…Ø«Ù„Ø§Ù‹: Ø¢Ú˜Ø§Ù†Ø³ ØªØ§Ú©Ø³ÛŒ">
        </div>
        <div class="input-group">
            <label>Ù…ØªÙ† Ú©ÙˆØªØ§Ù‡ ØªØ¨Ù„ÛŒØº:</label>
            <textarea id="a-desc" rows="2" placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª Ø®Ø¯Ù…Ø§Øª..."></textarea>
        </div>
        <div class="input-group">
            <label>Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³ ØªØ¨Ù„ÛŒØº:</label>
            <div class="upload-area">
                <input type="file" id="a-file" accept="image/*" hidden onchange="uploadToFreeHost(this, 'a-img')">
                <label for="a-file" class="file-label">ğŸ“¸ Ø§Ù†ØªØ®Ø§Ø¨ Ø¹Ú©Ø³ ØªØ¨Ù„ÛŒØº</label>
                <span id="a-img-status" class="status-msg">Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯! âœ…</span>
            </div>
            <input type="hidden" id="a-img">
        </div>
        <div class="input-group">
            <label>Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³:</label>
            <input type="text" id="a-phone" placeholder="0916...">
        </div>
        <button class="btn-add" onclick="addItem('ad')">Ø§ÙØ²ÙˆØ¯Ù† ØªØ¨Ù„ÛŒØº Ø¨Ù‡ Ù„ÛŒØ³Øª</button>
        <div id="ad-list"></div>
    </div>

    <button class="btn-generate" onclick="generateJSON()">âœ¨ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø¯ Ù†Ù‡Ø§ÛŒÛŒ Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨</button>
    <textarea id="json-output" readonly></textarea>
</div>

<script>
    let data = { stories: [], ads: [] };

    // ØªØ§Ø¨Ø¹ Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³ Ø¨Ù‡ Ø³Ø±ÙˆÛŒØ³ Ø±Ø§ÛŒÚ¯Ø§Ù† ImgBB (Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¯Ø§Ø±Ø¯)
    async function uploadToFreeHost(input, targetId) {
        const status = document.getElementById(targetId + '-status');
        if (!input.files || !input.files[0]) return;
        
        status.innerText = "Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù¾Ù„ÙˆØ¯...â³";
        status.style.display = "inline";

        const formData = new FormData();
        formData.append("image", input.files[0]);

        try {
            // Ø§Ø² Ø³Ø±ÙˆÛŒØ³ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
            const response = await fetch("https://api.imgbb.com/1/upload?key=670154867499f57c9103b44869c940b5", {
                method: "POST",
                body: formData
            });
            const result = await response.json();
            if(result.success) {
                document.getElementById(targetId).value = result.data.url;
                status.innerText = "Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯! âœ…";
                status.style.color = "#25D366";
            } else {
                alert("Ø®Ø·Ø§ Ø¯Ø± Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³");
            }
        } catch (e) {
            alert("Ø®Ø·Ø§ÛŒ Ø§ØªØµØ§Ù„Ø› Ø§ÛŒÙ†ØªØ±Ù†Øª Ø±Ø§ Ú†Ú© Ú©Ù†ÛŒØ¯");
        }
    }

    function addItem(type) {
        if(type === 'story') {
            const name = document.getElementById('s-name').value;
            const img = document.getElementById('s-img').value;
            if(!name || !img) return alert("Ù†Ø§Ù… Ùˆ Ø¹Ú©Ø³ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯");
            data.stories.push({ name, thumb: img, image: img, link: document.getElementById('s-link').value });
            renderList('story-list', data.stories);
        } else {
            const title = document.getElementById('a-title').value;
            const img = document.getElementById('a-img').value;
            if(!title || !img) return alert("Ø¹Ù†ÙˆØ§Ù† Ùˆ Ø¹Ú©Ø³ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯");
            data.ads.push({ title, desc: document.getElementById('a-desc').value, image: img, phone: document.getElementById('a-phone').value });
            renderList('ad-list', data.ads);
        }
    }

    function renderList(elementId, list) {
        const container = document.getElementById(elementId);
        container.innerHTML = '';
        list.forEach((item, index) => {
            container.innerHTML += `
                <div class="item-card">
                    <span>${item.name || item.title}</span>
                    <button class="btn-del" onclick="deleteItem('${elementId}', ${index})">Ø­Ø°Ù</button>
                </div>`;
        });
    }

    function deleteItem(listId, index) {
        if(listId === 'story-list') data.stories.splice(index, 1);
        else data.ads.splice(index, 1);
        renderList(listId, listId === 'story-list' ? data.stories : data.ads);
    }

    function generateJSON() {
        const output = document.getElementById('json-output');
        output.value = JSON.stringify(data, null, 2);
        output.style.display = 'block';
        output.select();
        alert("Ú©Ø¯ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯! Ø­Ø§Ù„Ø§ Ø¢Ù† Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù‡ Ùˆ Ø¯Ø± ÙØ§ÛŒÙ„ data.json Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨ Ù¾ÛŒØ³Øª Ú©Ù†ÛŒØ¯.");
    }
</script>
</body>
</html>
